import{a as T}from"./chunk-XV6EHMWA.js";import{q as f,s as x}from"./chunk-VFXAHBRT.js";import{B as u,Z as d,ba as h,g as p,o as g,r as m}from"./chunk-UBSBWSUK.js";var y=class c{constructor(e){this.http=e}API_KEY=T.decrypt("KgsOCVlWRk5dGUtAW1pDW1hVDFYeUU0YEBhBSlJcS1RHQUdQQltF");API_URL="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";translateText(e,n){if(!e.trim())return g(()=>new Error("\uBC88\uC5ED\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let r={english:"English",korean:"Korean",japanese:"Japanese",chinese:"Chinese",spanish:"Spanish",french:"French",german:"German"}[n]||"English",o={contents:[{parts:[{text:`Translate the following text to ${r}. Provide only the translation without any explanations or additional text:

${e}`}]}],generationConfig:{temperature:.1,topK:1,topP:1,maxOutputTokens:2048}},l=new f({"Content-Type":"application/json","X-goog-api-key":this.API_KEY});return this.http.post(this.API_URL,o,{headers:l}).pipe(m(t=>{if(console.log("Gemini API \uC751\uB2F5:",t),t.candidates&&t.candidates.length>0&&t.candidates[0].content&&t.candidates[0].content.parts&&t.candidates[0].content.parts.length>0){let a=t.candidates[0].content.parts[0].text.trim();return{originalText:e,translatedText:a,targetLanguage:r,success:!0}}else throw new Error("\uBC88\uC5ED \uC751\uB2F5\uC744 \uBC1B\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}),u(t=>{console.error("Gemini API \uBC88\uC5ED \uC624\uB958:",t);let a="\uBC88\uC5ED \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return t.error&&t.error.error?a=t.error.error.message||a:t.message&&(a=t.message),g(()=>({originalText:e,translatedText:"",targetLanguage:r,success:!1,error:a}))}))}translateMultipleTexts(e,n){let i=[];return new p(r=>{let s=0,o=()=>{if(s>=e.length){r.next(i),r.complete();return}let l=e[s];this.translateText(l,n).subscribe({next:t=>{i.push(t),s++,setTimeout(o,100)},error:t=>{i.push({originalText:l,translatedText:"",targetLanguage:n,success:!1,error:t.message||"\uBC88\uC5ED \uC2E4\uD328"}),s++,setTimeout(o,100)}})};o()})}static \u0275fac=function(n){return new(n||c)(h(x))};static \u0275prov=d({token:c,factory:c.\u0275fac,providedIn:"root"})};export{y as a};
