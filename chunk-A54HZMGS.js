import{q as f,r as x}from"./chunk-HIDJ2X2I.js";import{B as m,Z as d,ba as h,g as p,o as g,r as u}from"./chunk-UBSBWSUK.js";var T=class c{constructor(e){this.http=e}API_KEY="AIzaSyCSnZMkpalf4--NxFAAac19pY16V9qcQjM";API_URL="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";translateText(e,n){if(!e.trim())return g(()=>new Error("\uBC88\uC5ED\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let a={english:"English",korean:"Korean",japanese:"Japanese",chinese:"Chinese",spanish:"Spanish",french:"French",german:"German"}[n]||"English",i={contents:[{parts:[{text:`Translate the following text to ${a}. Provide only the translation without any explanations or additional text:

${e}`}]}],generationConfig:{temperature:.1,topK:1,topP:1,maxOutputTokens:2048}},l=new f({"Content-Type":"application/json","X-goog-api-key":this.API_KEY});return this.http.post(this.API_URL,i,{headers:l}).pipe(u(t=>{if(console.log("Gemini API \uC751\uB2F5:",t),t.candidates&&t.candidates.length>0&&t.candidates[0].content&&t.candidates[0].content.parts&&t.candidates[0].content.parts.length>0){let r=t.candidates[0].content.parts[0].text.trim();return{originalText:e,translatedText:r,targetLanguage:a,success:!0}}else throw new Error("\uBC88\uC5ED \uC751\uB2F5\uC744 \uBC1B\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}),m(t=>{console.error("Gemini API \uBC88\uC5ED \uC624\uB958:",t);let r="\uBC88\uC5ED \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return t.error&&t.error.error?r=t.error.error.message||r:t.message&&(r=t.message),g(()=>({originalText:e,translatedText:"",targetLanguage:a,success:!1,error:r}))}))}translateMultipleTexts(e,n){let o=[];return new p(a=>{let s=0,i=()=>{if(s>=e.length){a.next(o),a.complete();return}let l=e[s];this.translateText(l,n).subscribe({next:t=>{o.push(t),s++,setTimeout(i,100)},error:t=>{o.push({originalText:l,translatedText:"",targetLanguage:n,success:!1,error:t.message||"\uBC88\uC5ED \uC2E4\uD328"}),s++,setTimeout(i,100)}})};i()})}static \u0275fac=function(n){return new(n||c)(h(x))};static \u0275prov=d({token:c,factory:c.\u0275fac,providedIn:"root"})};export{T as a};
